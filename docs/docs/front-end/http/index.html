<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HTTP・HTTPS | WAT Notes</title>

<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_CHTML"></script>


<link rel="stylesheet" href="https://WAT36.github.io/pages/book.min.e2750c58bf0545d36d2426996f9d6108a275d000f33e7552d83ea28bdcd34ab7.css">


<script defer src="https://WAT36.github.io/pages/search.min.0f0dc14c294760d891e52fae1dbeebbd31ecf1bed3def90f9cace638361e831a.js"></script>



<link rel="icon" href="https://WAT36.github.io/pages/favicon.png" type="image/x-icon">


<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body>
  <input type="checkbox" style="display: none" id="menu-control" />
  <main class="flex container">

    <aside class="book-menu fixed">
      <nav>
<h2 class="book-brand">
  <a href="https://WAT36.github.io/pages/">WAT Notes</a>
</h2>


<div class="book-search">
  <input type="text" placeholder="Search" id="book-search-input" maxlength="64" readonly />
  <div class="book-search-spinner spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>





    
  
  
  

  <style>
  nav ul a[href$="\2f docs\2f front-end\2fhttp\2f "] {
      color: #004ed0;
  }
  </style>

<ul>
<li><a href="https://WAT36.github.io/pages/"><strong>Introduction</strong></a></li>
</ul>

<p><details>
 <summary>Notes</summary></p>

<ul>
<li>

<ul>
<li><a href="https://WAT36.github.io/pages/docs/programming/jp_index/"><strong>プログラミング</strong></a></li>
<li><a href="https://WAT36.github.io/pages/docs/ctf/ctf_index/"><strong>CTF</strong></a></li>
<li><a href="https://WAT36.github.io/pages/docs/front-end/front_index/"><strong>フロントエンド</strong></a></li>
<li><a href="https://WAT36.github.io/pages/docs/cloud/aws/aws_index/"><strong>クラウド(AWS)</strong></a></li>
</ul></li>
</ul>

<p></details></p>

<ul>
<li><p><a href="https://WAT36.github.io/pages/posts/"><strong>Blog</strong></a></p></li>

<li><p><a href="https://WAT36.github.io/pages/docs/about/disclaimer/">免責事項</a></p></li>
</ul>








  <div class="page-nav-item">
    <a href="https://WAT36.github.io/pages/categories/">Categories</a>
  </div>
  <br>
  <div class="page-nav-item">
    <a href="https://WAT36.github.io/pages/tags/">Tags</a>
  </div>
</nav>


<script>
(function() {
  var menu = document.querySelector("aside.book-menu nav");
  addEventListener("beforeunload", function(event) {
    localStorage.setItem("menu.scrollTop", menu.scrollTop);
  });
  menu.scrollTop = localStorage.getItem("menu.scrollTop");
})();
</script>

    </aside>

    <div class="book-page">
      <header class="flex align-center justify-between book-header">
  <label for="menu-control">
    <img src="https://WAT36.github.io/pages/svg/menu.svg" alt="Menu" />
  </label>
  <strong>HTTP・HTTPS</strong>
</header>

      
<article class="markdown">

<h1>HTTP・HTTPS</h1>

<p>HTTP、HTTPSプロトコルについてを述べる。</p>

<h1 id="httpプロトコル">HTTPプロトコル</h1>

<p>HTTP(Hyper Text Transfer Protocol)とは、WebサーバとクライアントのWebブラウザ間でHTML文書などのテキストメッセージを受け渡すためのプロトコルである。</p>

<p>HTTPの通信は、クライアントからサーバへの<strong>HTTPリクエスト</strong>と、サーバからクライアントへの<strong>HTTPレスポンス</strong>の2つに分けられる。</p>

<p><img src="https://WAT36.github.io/pages/img/front-end/http1.png"></p>

<h1 id="httpsプロトコル">HTTPSプロトコル</h1>

<p>HTTPSプロトコルは、大まかにいうとセキュリティを確保した通信路上でHTTP通信を行うプロトコルである。</p>

<p>HTTP通信を行う前に、セキュリティの確保として、データを暗号化して送受信するプロトコルであるSSLプロトコル(またはTLSプロトコル)を利用しセッションを確定する。その後に、HTTPセッションの接続を行う。</p>

<p><img src="https://WAT36.github.io/pages/img/front-end/https.png"></p>

<h1 id="httpのメッセージ構造">HTTPのメッセージ構造</h1>

<p>HTTPのメッセージは大きく開始行、ヘッダフィールド、CRLFの改行、メッセージボディの4つに分けられる。</p>

<ul>
<li>開始行 (リクエストライン/ステータスライン)</li>
<li>ヘッダフィールド(０行以上、以下から構成)

<ul>
<li>General-header</li>
<li>Request-header</li>
<li>Response-header</li>
<li>Entity-header</li>
</ul></li>
<li>改行(CRLF)</li>
<li>メッセージボディ</li>
</ul>

<h1 id="httpの開始行-リクエストメッセージ">HTTPの開始行(リクエストメッセージ)</h1>

<p>HTTPメッセージの一番最初に書く開始行は以下のような構造になる。</p>

<pre><code>メソッド  /任意のパス(+クエリストリング)  HTTP/1.1
</code></pre>

<p>クエリストリングとはリクエストと同時に送るデータのことで、任意のパスの後に&rdquo;?&ldquo;を書き、その後にデータを記入する。</p>

<p>また、メソッドとは以下のいずれかである。</p>

<table>
    <thead>
        <th>メソッド名</th>
        <th>説明</th>
    </thead>
    <tr>
        <td>GET</td>
        <td>指定したURL(URI)で識別されるリソースを取得</td>
    </tr>
    <tr>
        <td>POST</td>
        <td>指定したURL(URI)で識別されるリソースの子リソースの作成、またはリソースへのデータの追加などを要求</td>
    </tr>
    <tr>
        <td>PUT</td>
        <td>指定したURL(URI)に対してエンティティ(メッセージボディ)に含まれる情報を保存することを要求</td>
    </tr>
    <tr>
        <td>HEAD</td>
        <td>GETと同じだがヘッダのみを取得</td>
    </tr>
    <tr>
        <td>OPTIONS</td>
        <td>指定したURL(URI)がサポートしているメソッドを取得</td>
    </tr>
    <tr>
        <td>DELETE</td>
        <td>指定したURL(URI)で識別されるリソースの削除を要求</td>
    </tr>
    <tr>
        <td>TRACE</td>
        <td>自分宛にリクエストメッセージを要求するループバック試験に使用</td>
    </tr>
</table>

<p>このうちよく使われるのはGETとPOSTである。</p>

<h1 id="httpのレスポンスメッセージ">HTTPのレスポンスメッセージ</h1>

<p>HTTPのレスポンスメッセージの例は以下の通り。</p>

<pre><code>HTTP/1.1 200 OK
</code></pre>

<pre><code>Date:Wed,  19 Aug 2020 23:48:50 GMT
Server:Apache
Content-type:text/html
</code></pre>

<pre><code>(改行)
</code></pre>

<pre><code>&lt;!DOCTYPE html&gt;
・・・
・・・
</code></pre>

<p>ここで、レスポンスメッセージの開始行には、レスポンスの状態を示す3桁の数字「ステータスコード」が含まれている。</p>

<p>ステータスコードは以下のように分類される。</p>

<table>
    <thead>
        <th>ステータスコード</th>
        <th>説明</th>
    </thead>
    <tr>
        <td>1xx</td>
        <td>Informational(情報提供のコード)</td>
    </tr>
    <tr>
        <td>2xx</td>
        <td>Success(成功)</td>
    </tr>
    <tr>
        <td>3xx</td>
        <td>Redirection(転送)</td>
    </tr>
    <tr>
        <td>4xx</td>
        <td>Client Error(クライアントエラー)</td>
    </tr>
    <tr>
        <td>5xx</td>
        <td>Server Error(サーバーエラー)</td>
    </tr>
</table>

<h1 id="httpのヘッダフィールド">HTTPのヘッダフィールド</h1>

<p>ヘッダフィールドには、メッセージの外部情報（メタ情報）を扱うためのHTTPヘッダが含まれる。</p>

<p>HTTPヘッダとして代表的なものを示す。</p>

<table>
    <thead>
        <th>ヘッダ名</th>
        <th>説明</th>
    </thead>
    <tr>
        <td>Accept</td>
        <td>受入可能なメディア型を指定</td>
    </tr>
    <tr>
        <td>Authorization</td>
        <td>HTTP認証の認証情報</td>
    </tr>
    <tr>
        <td>Cache-Control</td>
        <td>キャッシュの振る舞いを支持</td>
    </tr>
    <tr>
        <td>Content-Language</td>
        <td>エンティティの自然言語</td>
    </tr>
    <tr>
        <td>Content-Length</td>
        <td>メッセージボディの大きさ</td>
    </tr>
    <tr>
        <td>Content-Type</td>
        <td>メッセージボディのメディア型</td>
    </tr>
    <tr>
        <td>Cookie</td>
        <td>ブラウザに保存されたクッキーの値</td>
    </tr>
    <tr>
        <td>Expires</td>
        <td>レスポンスの有効期間</td>
    </tr>
    <tr>
        <td>If-Modified-Since</td>
        <td>指定時刻以降に更新されているかを確認。条件付きGETとともに使用</td>
    </tr>
    <tr>
        <td>Last-Modified</td>
        <td>リソースの最終更新時刻</td>
    </tr>
    <tr>
        <td>Referer</td>
        <td>リンクされている元のリソースのURL(URI)</td>
    </tr>
    <tr>
        <td>Set-Cookie</td>
        <td>Webサーバが生成したクッキーの値</td>
    </tr>
    <tr>
        <td>User-Agent</td>
        <td>ユーザーエージェントの名前</td>
    </tr>
</table>
</article>

      
<div class="book-footer justify-between">
  
  <div>
    
    <a href="https://github.com/alex-shpak/hugo-book/commit/654ce486afe455003f2c2dd17a9de129a11c7ce0" title='Last modified Aug 19, 2020 by Wataru Tsukagoshi' target="_blank" rel="noopener">
      <img src="https://WAT36.github.io/pages/svg/calendar.svg" alt="Changed" /> Aug 19, 2020
    </a>
  </div>
  
</div>


      
    </div>
    
  

  <aside class="book-toc level-3 fixed">
    <nav id="TableOfContents">
<ul>
<li><a href="#httpプロトコル">HTTPプロトコル</a></li>
<li><a href="#httpsプロトコル">HTTPSプロトコル</a></li>
<li><a href="#httpのメッセージ構造">HTTPのメッセージ構造</a></li>
<li><a href="#httpの開始行-リクエストメッセージ">HTTPの開始行(リクエストメッセージ)</a></li>
<li><a href="#httpのレスポンスメッセージ">HTTPのレスポンスメッセージ</a></li>
<li><a href="#httpのヘッダフィールド">HTTPのヘッダフィールド</a></li>
</ul>
</nav>
  </aside>



  </main>

  
  
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-161908250-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</body>

</html>
