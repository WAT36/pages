---
title: "API"
weight: 1
# bookFlatSection: false
# bookShowToC: true
---

<h1>API</h1>

HTMLに関連する各種APIについてを述べる。


# マルチメディアグラフィックスAPI

HTMLでの音声・動画といったマルチメディアに関する設定や操作を、JavaScript等といった外部ソースから制御することができる。詳しい実装方法については述べないが、設定できる内容の種類についてを述べる。


## マルチメディア

HTMLでは、audio要素で音声コンテンツ、video要素で動画コンテンツを埋め込むことができる。

この埋め込んだマルチメディアコンテンツを、JavaScriptを使って制御することができる。

制御できる内容は以下の通り。

- 音声・動画プレイヤーのデザイン変更
- コンテンツの再読み込み
- 再生開始・中断

また、マルチメディアコンテンツの以下のような情報をJavaScriptで取得することができる。

- コンテンツが再生・早送り可能な状態か
- ネットワーク状況
- コンテンツの場所
- 音量
- トラック情報


## ストリーミング

ストリーミングとは、マルチメディアコンテンツをダウンロードと同時に(ダウンロードできている部分の)再生を行う技術である。

通常はコンテンツのダウンロードが全て終わってから再生するが、通信状況が悪い場合やコンテンツの容量が大きい場合は非常に時間がかかる場合もあり、コンテンツの利用をスムーズに行えない場合が多い。そのためにストリーミング技術を利用する方法が増えている。

そのような通信状況等に応じて、適切なビットレートのコンテンツを選択し、ストリーミング再生を実現する技術を**Adaptive Streaming技術**と呼ぶ。

Adaptive Streaming技術には、Apple社が開発したプロトコルである**HLS(HTTP Live Streaming)**、Adobe社やMicrosoft社などにより開発された**MPEG-DASH**のようなプロトコルも存在する。

また、JavaScriptのAPIにもストリーミングに対応したものが用意されている。例として**Media Source Extensions**はHLSやMPEG-DASHのように、ストリーミング配信されるコンテンツを再生するために作られたAPIである。


## グラフィックス

画像ファイルは、jpegやpngファイルを用意して表示するが、HTML5ではJavascript等の外部ソースを利用しても表示できる。

JavaScriptを使って画像を描画し、HTMLで表示するには**Canvas要素**を利用する。canvasは画像をビットマップ形式で描画する。そのため、拡大縮小すると画像が粗くなる。

利用方法は以下の通り。

- HTMLにcanvas要素を用意する。
- Javascriptでcanvas要素を参照し、描画用のcontextオブジェクトを取得する
- Javascriptを使って描画する

Javascriptを使った描画では、以下のような操作が可能である。

- 線を描く
- 円、四角を描く
- 色を塗る
- テキストを書く
- 画像ファイルを読み込む
- 拡大・縮小・回転する
