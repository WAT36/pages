---
title: "空間フィルター"
weight: 1
# bookFlatSection: false
# bookShowToC: true
---

# 空間フィルター

先述の手書き文字認識の章で、活性化関数を変えるなどして認識精度の向上を図ったが、もっと精度を上げるための方法はないだろうか？

ここで、先述の方法では、入力画像を１次元のベクトルに変換して学習を行わせており、２次元画像の空間の情報を考慮していないというところに着目する。（要は、画像の縦方向の関連性、画像の直線や曲線と言ったような画像の情報を見ていないということ。）

画像の空間の情報を取り出す方法として、**空間フィルター**という画像処理の手法がある。

空間フィルターは、２次元の行列で表される。フィルターを画像の一部分に当て嵌め、画像の一部分とフィルターとの要素の積の和を、画像をスライドさせながら画像の全領域で求めていく。

このような計算を、**畳み込み演算 (Convolution)**と呼ぶ。

例として、以下のような空間フィルターを定義し、適用してみよう。

```python
>>> #空間フィルター
>>> import numpy as np
>>> filter = np.array([[0,1,1],[0,1,1],[0,1,1]])
>>> print(filter)
[[0 1 1]
 [0 1 1]
 [0 1 1]]
```

空間フィルターを、以下のように画像の全要素にスライドさせながら計算していき、その和を計算して値を算出していく。

<img src="/img/datascience/Figure_52.png" width=75%>


