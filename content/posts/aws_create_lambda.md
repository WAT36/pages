---
title: "Lambda関数の作成方法(AWS)"
date: 2020-04-05T20:04:12+09:00
draft: false
---

AWSでLambdaの関数を作る方法について、またまた備忘がてら手順をのせておく。


## 1. AWSマネジメントコンソールにログインする

AWSマネジメントコンソールのページに行き、ログインする。

![AWSマネジメントコンソール](/img/aws/aws_management_console.png)

## 2. Lambdaのページを開く

マネジメントコンソールにログインしたら、サービスの検索ボックスにLambdaと入力し、Lambdaのページを開く。

![AWSマネジメントコンソール](/img/aws/aws_management_console_lambda.png)

## 3. 関数を作成する

Lambdaのページを開くと関数の画面になり、今ある関数の一覧が表示される。

関数を作成するには画面にある「関数の作成」ボタンを押す。

すると関数の作成画面に行き、どのような方法で関数を作成するかを選ぶ。

![Lambda関数の作成](/img/aws/aws_create_lambda_function.png)

今回は自作のコードを元に作成したいので、「一から作成」を選択。

下の「基本的な情報」の欄に、関数名とランタイム(言語)、また適切な実行ロールを設定する。

### (3.5 IAMロールの作成方法)

Lambda関数で別のサービス等を利用するときは、用途に応じたIAMロールを作成して付与してやる必要がある。

念のため、ここではその手順を示す。

例として、DynamoDBにアクセスが必要なLambda関数に対するIAMロールの作成方法についてを示す。

1. サービス から「IAM」を選択し、IAMのページへ行く。

2. 「ロール」＞「ロールの作成」へ行く

3. 「ユースケースの選択」で、今回はLambda用のIAMロールなので「Lambda」を選択する。

4. 「次のステップ(:アクセス権限)」ボタンを押す

5. Attachアクセス権限ポリシー　で次の２つのポリシーを選択する。

- AmazonDynamoDBFullAccess
- AWSLambdaBasicExecutionRole

6. 選択したら「次のステップ(:タグ)」ボタンを押す

7. 「次のステップ(:確認)」を押す

8. ロール名を入力して「ロールの作成」を押す

9. ロールが完成される

ロールを作成したら、Lambda関数作成時に アクセス権限＞実行ロールの選択または作成＞既存のロールを使用する　から作成したロールを選択する

それが終わったら、「関数の作成」ボタンを押す

## 4. コードを設定する

「関数の作成」ボタンを押すと関数の設定画面へ行き、コードなどの設定が行える。

コードの部分に設定したいコードを入力する。

テストをしたいときは「テスト」ボタンを押してテストする。




以上、Lambda関数の作成方法である。
