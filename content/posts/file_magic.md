---
title: "fileコマンドとファイルのマジックナンバーについて"
date: 2019-10-03T20:55:27+09:00
categories: ["Linux","CTF"]
tags: ["UNIX","Linux","CTF"]
draft: true
---

先日CTFの勉強会に参加してきた。
勉強会といっても、今回参加したのは総まとめ回だったそうで、実践演習的な回だったが、、
運営側が用意した問題をそれぞれ解いていくという形式だったが、最初の問題から解けないという体たらくっぷりであったので、他の参加者や講師の方から教えて頂いたことだけでも備忘のために書いておく。


# fileコマンド

CTFは正体不明なファイルを渡されることが多いのだが、まずはそのファイルの形式を知るということから始めることが多いと思う。
普通、ファイルには.txtや.jpgなどといったような、ファイルの形式を示す文字列である「拡張子」というのがファイル名の末尾についており、ユーザーはこれを見ることによってそのファイルが何なのかを認識しているだろう。
しかし、拡張子もファイル名の一部なので、その気になれば自由に変更することは可能であり、ファイルの拡張子がそのファイルの形式を示しているとは限らない。
拡張子ではなく、ファイルの内容からそのファイルが何なのかを判別するにはどうすれば良いのか？


その際にまず使うのがUNIXの「file」コマンドである。
fileコマンドはファイルを引数としてとり、ファイルの内容を見ることでそのファイルのファイル形式を表示してくれるコマンドである。

## 使用法

```shell
$ file [オプション] ファイル
```

引数にファイルを指定する。

## オプション

- -f・・・検査するファイルの名前をリストファイルから読み込む
- -L・・・シンボリックリンクの参照先を調べる
- -z・・・圧縮ファイルの中も調べる
- -b・・・出力行の最初にファイル名を表示しない
- -N・・・出力を整列するためのファイル名への空白の追加を行わない


